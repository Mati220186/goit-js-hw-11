{"version":3,"file":"commonHelpers.js","sources":["../src/gallery_20.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  document\n    .querySelector('.search-button')\n    .addEventListener('submit', function (e) {\n      e.preventDefault();\n      const query = document.querySelector('.search-input').value;\n      searchImages(query);\n    });\n});\n\nfunction searchImages(query) {\n  const apiKey = '45239691-411c9704351f7c72c1a4b78aa';\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  document.querySelector('#loader').style.display = 'block';\n\n  fetch(url)\n    .then(response => response.json())\n    .then(console.log(response))\n    .then(data => {\n      document.getElementById('loader').style.display = 'none';\n      if (data.hits.length > 0) {\n        displayImages(data.hits);\n      } else {\n        iziToast.info({\n          title: 'Informacja',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      }\n    })\n    .catch(error => {\n      document.getElementById('loader').style.display = 'none';\n      iziToast.error({\n        title: 'Błąd',\n        message:\n          'Wystąpił problem z wyszukiwaniem obrazów. Spróbuj ponownie później.',\n        position: 'topRight',\n      });\n    });\n}\n\nfunction displayImages(images) {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = '';\n\n  images.forEach(image => {\n    const aElement = document.createElement('a');\n    aElement.href = image.largeImageURL;\n    aElement.dataset.lightbox = 'gallery';\n    aElement.dataset.title = image.tags;\n\n    const imgElement = document.createElement('img');\n    imgElement.src = image.webformatURL;\n    imgElement.alt = image.tags;\n\n    aElement.appendChild(imgElement);\n    gallery.appendChild(aElement);\n  });\n\n  const lightbox = new SimpleLightbox('#gallery a', {});\n  lightbox.refresh();\n}\n"],"names":["e","query","searchImages","url","response","data","displayImages","error","images","gallery","image","aElement","imgElement"],"mappings":"oDAAA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,SACG,cAAc,gBAAgB,EAC9B,iBAAiB,SAAU,SAAUA,EAAG,CACvCA,EAAE,eAAc,EAChB,MAAMC,EAAQ,SAAS,cAAc,eAAe,EAAE,MACtDC,EAAaD,CAAK,CACxB,CAAK,CACL,CAAC,EAED,SAASC,EAAaD,EAAO,CAE3B,MAAME,EAAM,qEAA4C,mBACtDF,CACD,CAAA,2DAED,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,QAElD,MAAME,CAAG,EACN,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAK,QAAQ,IAAI,QAAQ,CAAC,EAC1B,KAAKC,GAAQ,CACZ,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OAC9CA,EAAK,KAAK,OAAS,EACrBC,EAAcD,EAAK,IAAI,EAEvB,SAAS,KAAK,CACZ,MAAO,aACP,QACE,2EACF,SAAU,UACpB,CAAS,CAET,CAAK,EACA,MAAME,GAAS,CACd,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OAClD,SAAS,MAAM,CACb,MAAO,OACP,QACE,sEACF,SAAU,UAClB,CAAO,CACP,CAAK,CACL,CAEA,SAASD,EAAcE,EAAQ,CAC7B,MAAMC,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAY,GAEpBD,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAW,SAAS,cAAc,GAAG,EAC3CA,EAAS,KAAOD,EAAM,cACtBC,EAAS,QAAQ,SAAW,UAC5BA,EAAS,QAAQ,MAAQD,EAAM,KAE/B,MAAME,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,IAAMF,EAAM,aACvBE,EAAW,IAAMF,EAAM,KAEvBC,EAAS,YAAYC,CAAU,EAC/BH,EAAQ,YAAYE,CAAQ,CAChC,CAAG,EAEgB,IAAI,eAAe,aAAc,CAAE,CAAA,EAC3C,QAAO,CAClB"}