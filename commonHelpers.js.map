{"version":3,"file":"commonHelpers.js","sources":["../src/gallery_20.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  document\n    .getElementById('searchForm')\n    .addEventListener('submit', function (e) {\n      e.preventDefault();\n      const query = document.getElementById('searchQuery').value;\n      searchImages(query);\n    });\n});\n\nfunction searchImages(query) {\n  const apiKey = '45239691-411c9704351f7c72c1a4b78aa';\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  document.getElementById('loader').style.display = 'flex';\n\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = '';\n\n  fetch(url)\n    .then(response => response.json())\n    .then(data => {\n      document.getElementById('loader').style.display = 'none';\n      if (data.hits.length > 0) {\n        displayImages(data.hits);\n      } else {\n        iziToast.info({\n          title: 'Informacja',\n          message:\n            'Przepraszamy, nie ma obrazów zgodnych z wyszukiwaniem. Spróbuj ponownie!',\n          position: 'topRight',\n        });\n      }\n    })\n    .catch(error => {\n      document.getElementById('loader').style.display = 'none';\n      iziToast.error({\n        title: 'Błąd',\n        message:\n          'Wystąpił problem z wyszukiwaniem obrazów. Spróbuj ponownie później.',\n        position: 'topRight',\n      });\n    });\n}\n\nfunction displayImages(images) {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = '';\n\n  images.forEach(image => {\n    const aElement = document.createElement('a');\n    aElement.href = image.largeImageURL;\n    aElement.dataset.lightbox = 'gallery';\n    aElement.dataset.title = image.tags;\n\n    const imgElement = document.createElement('img');\n    imgElement.src = image.webformatURL;\n    imgElement.alt = image.tags;\n\n    const infoDiv = document.createElement('div');\n    infoDiv.classList.add('image-info');\n    infoDiv.innerHTML = `\n            <div>\n                <span class=\"label\">Likes:</span>\n                <span>${image.likes}</span>\n            </div>\n            <div>\n                <span class=\"label\">Views:</span>\n                <span>${image.views}</span>\n            </div>\n            <div>\n                <span class=\"label\">Comments:</span>\n                <span>${image.comments}</span>\n            </div>\n            <div>\n                <span class=\"label\">Downloads:</span>\n                <span>${image.downloads}</span>\n            </div>\n        `;\n    gallery.appendChild(aElement);\n    aElement.appendChild(imgElement);\n    aElement.appendChild(infoDiv);\n  });\n\n  const lightbox = new SimpleLightbox('#gallery a', {});\n  lightbox.refresh();\n}\n"],"names":["e","query","searchImages","url","gallery","response","data","displayImages","error","images","image","aElement","imgElement","infoDiv"],"mappings":"oDAAA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,SACG,eAAe,YAAY,EAC3B,iBAAiB,SAAU,SAAUA,EAAG,CACvCA,EAAE,eAAc,EAChB,MAAMC,EAAQ,SAAS,eAAe,aAAa,EAAE,MACrDC,EAAaD,CAAK,CACxB,CAAK,CACL,CAAC,EAED,SAASC,EAAaD,EAAO,CAE3B,MAAME,EAAM,qEAA4C,mBACtDF,CACD,CAAA,2DAED,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OAElD,MAAMG,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAY,GAEpB,MAAMD,CAAG,EACN,KAAKE,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACZ,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OAC9CA,EAAK,KAAK,OAAS,EACrBC,EAAcD,EAAK,IAAI,EAEvB,SAAS,KAAK,CACZ,MAAO,aACP,QACE,2EACF,SAAU,UACpB,CAAS,CAET,CAAK,EACA,MAAME,GAAS,CACd,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OAClD,SAAS,MAAM,CACb,MAAO,OACP,QACE,sEACF,SAAU,UAClB,CAAO,CACP,CAAK,CACL,CAEA,SAASD,EAAcE,EAAQ,CAC7B,MAAML,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAY,GAEpBK,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAW,SAAS,cAAc,GAAG,EAC3CA,EAAS,KAAOD,EAAM,cACtBC,EAAS,QAAQ,SAAW,UAC5BA,EAAS,QAAQ,MAAQD,EAAM,KAE/B,MAAME,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,IAAMF,EAAM,aACvBE,EAAW,IAAMF,EAAM,KAEvB,MAAMG,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAU,IAAI,YAAY,EAClCA,EAAQ,UAAY;AAAA;AAAA;AAAA,wBAGAH,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,wBAIdA,EAAM,SAAS;AAAA;AAAA,UAGnCN,EAAQ,YAAYO,CAAQ,EAC5BA,EAAS,YAAYC,CAAU,EAC/BD,EAAS,YAAYE,CAAO,CAChC,CAAG,EAEgB,IAAI,eAAe,aAAc,CAAE,CAAA,EAC3C,QAAO,CAClB"}